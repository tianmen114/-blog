import{d as w,o as x,m as _,l as C,c as p,h as n,g as t,t as d,F as u,k as m,f as a,y as D,e as M,n as S,z as A,i as F,x as N}from"./index-DqwmQ0bN.js";const b={class:"archive-page"},L={class:"container"},V={class:"subtitle"},B={key:0,class:"empty"},$={key:1,class:"timeline"},z={class:"year-anchor"},R={class:"anchor-label"},j={class:"month-section"},E={class:"month-anchor"},I={class:"anchor-label"},O={class:"posts"},P={class:"post-content"},T={class:"post-meta"},Y={class:"post-date"},q={key:0,class:"post-tags"},H=w({__name:"Archive",setup(J){x(async()=>{_.value.length===0&&await C()});const y=p(()=>_.value.length),v=p(()=>{const c=new Map;for(const r of _.value){const i=new Date(r.date),o=i.getFullYear().toString(),e=(i.getMonth()+1).toString().padStart(2,"0");c.has(o)||c.set(o,{year:o,months:new Map});const l=c.get(o),h=`${o}-${e}`;l.months.has(h)||l.months.set(h,[]),l.months.get(h).push(r)}const s=Array.from(c.entries()).map(([r,i])=>{const o=Array.from(i.months.entries()).map(([e,l])=>{l.sort((f,k)=>+new Date(k.date)-+new Date(f.date));const h=e.split("-")[1];return{key:e,month:h,items:l}});return o.sort((e,l)=>e.month<l.month?1:-1),{key:r,year:r,months:o}});return s.sort((r,i)=>r.year<i.year?1:-1),s});function g(c){return new Date(c).toLocaleString("zh-CN",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}return(c,s)=>{const r=A("RouterLink");return a(),n("div",b,[t("div",L,[s[4]||(s[4]=t("h1",null,"文章归档",-1)),t("p",V,"共 "+d(y.value)+" 篇文章",1),v.value.length===0?(a(),n("div",B,"暂无文章")):(a(),n("div",$,[s[3]||(s[3]=t("div",{class:"rope"},null,-1)),(a(!0),n(u,null,m(v.value,i=>(a(),n("div",{key:i.key,class:"timeline-item"},[t("div",z,[s[0]||(s[0]=t("div",{class:"anchor-dot large"},null,-1)),t("div",R,d(i.year)+"年",1)]),t("div",j,[(a(!0),n(u,null,m(i.months,o=>(a(),n("div",{key:o.key,class:"month-item"},[t("div",E,[s[1]||(s[1]=t("div",{class:"anchor-dot small"},null,-1)),t("div",I,d(o.month)+"月",1)]),t("div",O,[(a(!0),n(u,null,m(o.items,e=>(a(),n("div",{key:e.id,class:"post-item"},[s[2]||(s[2]=t("div",{class:"post-dot"},null,-1)),t("div",P,[D(r,{to:`/article/${e.id}`,class:"post-title"},{default:M(()=>[S(d(e.title),1)]),_:2},1032,["to"]),t("div",T,[t("span",Y,d(g(e.date)),1),e.tags?.length?(a(),n("span",q,[(a(!0),n(u,null,m(e.tags,l=>(a(),n("span",{key:l,class:"tag"},"#"+d(l),1))),128))])):F("",!0)])])]))),128))])]))),128))])]))),128))]))])])}}}),Q=N(H,[["__scopeId","data-v-f2c86372"]]);export{Q as default};
