import{d as p,h as l,f as a,q as v,j as n,B as g,C as h,r as b,c as D,m as B,D as z,o as E,l as L,u as S,w as V,g as d,i as y,y as f,e as u,E as M,F as C,k as $,n as k,b as T,t as m,_ as R,p as j,s as q,x as H}from"./index-CAp6gNlc.js";const I=p({__name:"Card",props:{class:{}},setup(c){const o=c;return(i,r)=>(a(),l("div",{class:v(n(g)("rounded-lg border bg-card text-card-foreground shadow-sm",o.class))},[h(i.$slots,"default")],2))}}),G=p({__name:"CardContent",props:{class:{}},setup(c){const o=c;return(i,r)=>(a(),l("div",{class:v(n(g)("p-6 pt-0",o.class))},[h(i.$slots,"default")],2))}}),J=p({__name:"CardDescription",props:{class:{}},setup(c){const o=c;return(i,r)=>(a(),l("p",{class:v(n(g)("text-sm text-muted-foreground",o.class))},[h(i.$slots,"default")],2))}}),K=p({__name:"CardHeader",props:{class:{}},setup(c){const o=c;return(i,r)=>(a(),l("div",{class:v(n(g)("flex flex-col gap-y-1.5 p-6",o.class))},[h(i.$slots,"default")],2))}}),O=p({__name:"CardTitle",props:{class:{}},setup(c){const o=c;return(i,r)=>(a(),l("h3",{class:v(n(g)("text-2xl font-semibold leading-none tracking-tight",o.class))},[h(i.$slots,"default")],2))}}),P={class:"md-article-list"},Q={key:0,class:"filter-tags"},U={class:"tag-buttons"},W={class:"articles-grid"},X={class:"article-cover"},Y=["src","alt"],Z=["alt"],ss={key:0,class:"top-tag"},ts={class:"article-meta"},es={class:"date"},as={class:"tags"},os=["onClick"],ls={key:1,class:"no-articles"},rs=p({__name:"MdArticleList",setup(c){const o=S(),i=q(),r=b(""),x=D(()=>{const e=new Set;return B.value.forEach(t=>{t.tags.forEach(s=>e.add(s))}),Array.from(e).sort()}),w=D(()=>{let e=B.value;return r.value&&(e=z(r.value)),e.sort((t,s)=>{if(t.top!==void 0&&s.top!==void 0){if(t.top!==s.top)return s.top-t.top}else{if(t.top!==void 0)return-1;if(s.top!==void 0)return 1}return new Date(s.date).getTime()-new Date(t.date).getTime()})});function F(e){return new Date(e).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric"})}function N(e){i.push(`/article/${e.id}`),window.scrollTo({top:0,behavior:"smooth"})}function A(e){console.log("选择标签:",e),r.value=e}return E(async()=>{await L(),o.params.tag&&(r.value=Array.isArray(o.params.tag)?o.params.tag[0]:o.params.tag)}),V(()=>o.params.tag,e=>{e?r.value=Array.isArray(e)?e[0]:e:r.value=""}),(e,t)=>(a(),l("div",P,[t[4]||(t[4]=d("div",{class:"list-header"},[d("h2",null,"文章列表")],-1)),x.value.length>0?(a(),l("div",Q,[t[2]||(t[2]=d("span",{class:"filter-label"},"标签筛选:",-1)),d("div",U,[f(n(M),{variant:r.value===""?"default":"outline",size:"sm",onClick:t[0]||(t[0]=s=>r.value="")},{default:u(()=>t[1]||(t[1]=[k(" 全部 ",-1)])),_:1,__:[1]},8,["variant"]),(a(!0),l(C,null,$(x.value,s=>(a(),T(n(M),{key:s,variant:r.value===s?"default":"outline",size:"sm",onClick:_=>A(s)},{default:u(()=>[k(m(s),1)]),_:2},1032,["variant","onClick"]))),128))])])):y("",!0),d("div",W,[(a(!0),l(C,null,$(w.value,s=>(a(),T(n(I),{key:s.id,class:"article-card",onClick:_=>N(s)},{default:u(()=>[d("div",X,[s.cover?(a(),l("img",{key:0,src:s.cover,alt:s.title,class:"cover-image"},null,8,Y)):(a(),l("img",{key:1,src:R,alt:s.title,class:"cover-image"},null,8,Z))]),f(n(K),null,{default:u(()=>[f(n(O),null,{default:u(()=>[k(m(s.title)+" ",1),s.top!==void 0?(a(),l("span",ss,"置顶")):y("",!0)]),_:2},1024),f(n(J),null,{default:u(()=>[k(m(s.description),1)]),_:2},1024)]),_:2},1024),f(n(G),null,{default:u(()=>[d("div",ts,[d("span",es,m(F(s.date)),1),d("div",as,[(a(!0),l(C,null,$(s.tags,_=>(a(),l("span",{key:_,class:"tag",onClick:j(ns=>A(_),["stop"])},m(_),9,os))),128))])])]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),w.value.length===0?(a(),l("div",ls,t[3]||(t[3]=[d("p",null,"没有找到相关文章",-1)]))):y("",!0)]))}}),cs=H(rs,[["__scopeId","data-v-34264b7f"]]);export{cs as default};
